<html lang="en"
 xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 xmlns:tal="http://xml.zope.org/namespaces/tal"
 xmlns:metal="http://xml.zope.org/namespaces/metal"
 xmlns:i18n="http://xml.zope.org/namespaces/i18n"
 metal:use-macro="here/main_template/macros/master"
 i18n:domain="cckf.content">

<body>

<div metal:fill-slot="content-core">
  <metal:block define-macro="content-core"
   tal:define="templateId template/getId;
               global all view/getCategory">

    <div metal:define-macro="text-field-view"
     id="parent-fieldname-text" class="stx"
     tal:define="has_text exists:context/aq_explicit/text/output;
                 text python:has_text and here.text.output or ''"
     tal:condition="text"
     tal:attributes="class python:context.Format() in ('text/structured', 'text/x-rst', ) and 'stx' or 'plain'">
    <div metal:define-slot="inside" tal:replace="structure text">The body</div>
    </div>

<ol style="list-style-type: upper-alpha; font-size: 1em; font-weight: bold">
<tal:keys define="global cat_names all/keys"
 tal:repeat="cat cat_names">
<li style="margin-left: 25px; margin-bottom: 10px"
 tal:content="python:view.t_title('cckf.category',cat)">Category</li>
<tal:list define="global items python:all[cat]"
 tal:repeat="item items">
<tal:obj define="obj item/getObject;">
<div class="award-project">
<div>
<label class="fieldHead" i18n:translate="">Year</label>
<span class="forText">:</span>
<span tal:replace="obj/year" />
</div>
<div style="display:inline-block; width:86px; vertical-align:top;">
<label class="fieldHead" i18n:translate="">Project</label>
<span class="forText">:</span>
</div>
<div class="wrapping">
<span tal:replace="obj/title" />
</div>
<div style="display:inline-block; width:86px; vertical-align:top;">
<label class="fieldHead" i18n:translate="">Institute</label>
<span class="forText">:</span>
</div>
<div class="wrapping">
<span tal:replace="obj/description" />
<span tal:condition="obj/region">
, <span tal:replace="python:view.t_title('cckf.region',obj.region)" />
</span>
</div>
<div>
<label class="fieldHead" i18n:translate="">Director</label>
<span class="forText">:</span>
<span tal:replace="obj/director" />
</div>
<div>
<label class="fieldHead" i18n:translate="">Budget</label>
<span class="forText">:</span>
<span tal:replace="obj/budget" />
</div>
</div>
</tal:obj>
</tal:list>
</tal:keys>
</ol>

  <metal:empty metal:define-slot="no_items_in_listing">
    <p class="discreet"
     tal:condition="not: all"
     i18n:translate="">
      There are currently no items in this collection.
    </p>
  </metal:empty>

  </metal:block>
</div>

</body>
</html>
